<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Racle météo - Landing page</title>

		<style>
			body {
				font-family: system-ui;
				max-width: 800px;
				margin: 10vh auto;
				color: #222;
			}

			a {
				color: dodgerblue;
			}

			form p {
				display: inline-block;
				margin: 0 1em 1em;
			}

			input,
			select {
				max-width: 140px;
			}

			table {
				border-collapse: collapse;
				text-align: left;
				width: 100%;
			}

			th,
			td {
				border: 1px solid #bbb;
				padding: 0.5em 1em;
				max-width: 400px;
			}

			@media (prefers-color-scheme: dark) {
				body {
					color: #ddd;
					background-color: #222;
				}

				th,
				td {
					border-color: #666;
				}
			}
		</style>
	</head>
	<body>
		<h1>Racle météo</h1>

		<p>
			This service cleverly transforms weather web pages into a usable (and free!) rest API. It uses
			<a href="https://accuweather.com">accuweather</a>
			and/or
			<a href="https://foreca.com">foreca</a> under the hood.
			<a href="github.com/victrme/racle-meteo">source code</a>
		</p>

		<h2>Test</h2>

		<form action="/" method="get">
			<p>
				Provider <br />
				<label>
					<input type="radio" name="provider" value="auto" checked />
					Auto
				</label>
				<br />
				<label>
					<input type="radio" name="provider" value="accuweather" />
					Accuweather
				</label>
				<br />
				<label>
					<input type="radio" name="provider" value="foreca" />
					Foreca
				</label>
			</p>

			<p>
				Debug <br />
				<label>
					Off <br />
					<input type="text" name="debug" value="off" checked />
				</label>
				<label>
					Nodes <br />
					<input type="text" name="debug" value="nodes" />
				</label>
				<label>
					Content <br />
					<input type="text" name="debug" value="content" />
				</label>
			</p>

			<p>
				Data <br />
				<label>
					<input type="radio" name="data" value="all" checked />
					All
				</label>
				<br />
				<label>
					<input type="radio" name="data" value="simple" />
					Simple
				</label>
			</p>

			<p>
				Unit <br />
				<label>
					<input type="radio" name="unit" value="C" checked />
					Celsius
				</label>
				<br />
				<label>
					<input type="radio" name="unit" value="F" />
					Farenheit
				</label>
			</p>

			<p>
				<label>
					Latitude <br />
					<input type="number" name="lat" placeholder="48.853" />
				</label>
			</p>

			<p>
				<label>
					Longitude <br />
					<input type="number" name="lon" placeholder="2.348" />
				</label>
			</p>

			<p>
				<label>
					Query <br />
					<input type="text" name="query" placeholder="Paris,FR" />
				</label>
			</p>

			<p>
				<label>
					Language <br />
					<select name="lang" value="en">
						<option value="en">English</option>
						<option value="fr">French</option>
						<option value="ja">Japanese</option>
						<option value="pt-pt">Portuguese</option>
						<option value="pt-br">Brazillan Portuguese</option>
					</select>
				</label>
			</p>

			<p>
				<button type="submit">Send query</button>
			</p>
		</form>

		<h2>Parameters</h2>

		<p>Define a weather provider to start using the API.</p>

		<table>
			<thead>
				<tr>
					<th>Parameter</th>
					<th>Type</th>
					<th>Required</th>
					<th>Description</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<th scope="row">provider</th>
					<td>accuweather, foreca</td>
					<td>required</td>
					<td>Choose the weather provider. By default returns all available data, see "data".</td>
				</tr>
				<tr>
					<th scope="row">query</th>
					<td>string</td>
					<td>optional</td>
					<td>
						Matches a location based on your query. Best to use as "City,CountryCode". Adding "query" overrides "lat" & "lon"
						parameters.
					</td>
				</tr>
				<tr>
					<th scope="row">lat</th>
					<td>string</td>
					<td>optional*</td>
					<td>Location latitude. * Required when migrating from CF workers</td>
				</tr>
				<tr>
					<th scope="row">lon</th>
					<td>string</td>
					<td>optional*</td>
					<td>Location longitude. * Required when migrating from CF workers</td>
				</tr>
				<tr>
					<th scope="row">lang</th>
					<td>string</td>
					<td>optional</td>
					<td>
						English by default. Some languages are only available on accuweather, see language list below. Incorrect
						<code>lang</code>
						does not fallback to english.
					</td>
				</tr>
				<tr>
					<th scope="row">unit</th>
					<td>C, F</td>
					<td>optional</td>
					<td>Useful for accuweather or when using "simple" data. Foreca always returns celsius and farenheit.</td>
				</tr>
				<tr>
					<th scope="row">data</th>
					<td>all, simple</td>
					<td>optional</td>
					<td>
						Select "all" to retrieve all the data from the provider's webpage. "simple" returns only data available for all
						providers. "all" by default.
					</td>
				</tr>
			</tbody>
		</table>
	</body>
</html>
